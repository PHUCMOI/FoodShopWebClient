{"ast":null,"code":"import LRUCache from './lru-cache';\nimport { Class } from '../common';\nimport { objectKey, hashKey, normalizeText } from './util';\nfunction zeroSize() {\n  return {\n    width: 0,\n    height: 0,\n    baseline: 0\n  };\n}\nconst DEFAULT_OPTIONS = {\n  baselineMarkerSize: 1\n};\nlet defaultMeasureBox;\nif (typeof document !== \"undefined\") {\n  defaultMeasureBox = document.createElement(\"div\");\n  defaultMeasureBox.style.cssText = \"position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;\" + \"padding: 0 !important; margin: 0 !important; border: 0 !important;\" + \"line-height: normal !important; visibility: hidden !important; white-space: pre!important;\";\n}\nclass TextMetrics extends Class {\n  constructor(options) {\n    super();\n    this._cache = new LRUCache(1000);\n    this.options = Object.assign({}, DEFAULT_OPTIONS, options);\n  }\n  measure(text, style, options = {}) {\n    if (typeof text === 'undefined' || text === null) {\n      return zeroSize();\n    }\n    const styleKey = objectKey(style);\n    const cacheKey = hashKey(text + styleKey);\n    const cachedResult = this._cache.get(cacheKey);\n    if (cachedResult) {\n      return cachedResult;\n    }\n    const size = zeroSize();\n    const measureBox = options.box || defaultMeasureBox;\n    const baselineMarker = this._baselineMarker().cloneNode(false);\n    for (let key in style) {\n      let value = style[key];\n      if (typeof value !== \"undefined\") {\n        measureBox.style[key] = value;\n      }\n    }\n    const textStr = options.normalizeText !== false ? normalizeText(text) : String(text);\n    measureBox.textContent = textStr;\n    measureBox.appendChild(baselineMarker);\n    document.body.appendChild(measureBox);\n    if (textStr.length) {\n      size.width = measureBox.offsetWidth - this.options.baselineMarkerSize;\n      size.height = measureBox.offsetHeight;\n      size.baseline = baselineMarker.offsetTop + this.options.baselineMarkerSize;\n    }\n    if (size.width > 0 && size.height > 0) {\n      this._cache.put(cacheKey, size);\n    }\n    measureBox.parentNode.removeChild(measureBox);\n    return size;\n  }\n  _baselineMarker() {\n    const marker = document.createElement(\"div\");\n    marker.style.cssText = \"display: inline-block; vertical-align: baseline;width: \" + this.options.baselineMarkerSize + \"px; height: \" + this.options.baselineMarkerSize + \"px;overflow: hidden;\";\n    return marker;\n  }\n}\nTextMetrics.current = new TextMetrics();\nexport default TextMetrics;","map":{"version":3,"names":["LRUCache","Class","objectKey","hashKey","normalizeText","zeroSize","width","height","baseline","DEFAULT_OPTIONS","baselineMarkerSize","defaultMeasureBox","document","createElement","style","cssText","TextMetrics","constructor","options","_cache","Object","assign","measure","text","styleKey","cacheKey","cachedResult","get","size","measureBox","box","baselineMarker","_baselineMarker","cloneNode","key","value","textStr","String","textContent","appendChild","body","length","offsetWidth","offsetHeight","offsetTop","put","parentNode","removeChild","marker","current"],"sources":["C:/Internship/FoodShopUI/node_modules/@progress/kendo-drawing/dist/es2015/text-metrics/text-metrics.js"],"sourcesContent":["import LRUCache from './lru-cache';\nimport { Class } from '../common';\nimport { objectKey, hashKey, normalizeText } from './util';\n\nfunction zeroSize() {\n    return { width: 0, height: 0, baseline: 0 };\n}\n\nconst DEFAULT_OPTIONS = {\n    baselineMarkerSize: 1\n};\n\nlet defaultMeasureBox;\n\nif (typeof document !== \"undefined\") {\n    defaultMeasureBox = document.createElement(\"div\");\n    defaultMeasureBox.style.cssText = \"position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;\" +\n              \"padding: 0 !important; margin: 0 !important; border: 0 !important;\" +\n              \"line-height: normal !important; visibility: hidden !important; white-space: pre!important;\";\n}\n\nclass TextMetrics extends Class {\n    constructor(options) {\n        super();\n\n        this._cache = new LRUCache(1000);\n        this.options = Object.assign({}, DEFAULT_OPTIONS, options);\n    }\n\n    measure(text, style, options = {}) {\n        if (typeof text === 'undefined' || text === null) {\n            return zeroSize();\n        }\n\n        const styleKey = objectKey(style);\n        const cacheKey = hashKey(text + styleKey);\n        const cachedResult = this._cache.get(cacheKey);\n\n        if (cachedResult) {\n            return cachedResult;\n        }\n\n        const size = zeroSize();\n        const measureBox = options.box || defaultMeasureBox;\n        const baselineMarker = this._baselineMarker().cloneNode(false);\n\n        for (let key in style) {\n            let value = style[key];\n            if (typeof value !== \"undefined\") {\n                measureBox.style[key] = value;\n            }\n        }\n\n        const textStr = options.normalizeText !== false ? normalizeText(text) : String(text);\n\n        measureBox.textContent = textStr;\n        measureBox.appendChild(baselineMarker);\n        document.body.appendChild(measureBox);\n\n        if (textStr.length) {\n            size.width = measureBox.offsetWidth - this.options.baselineMarkerSize;\n            size.height = measureBox.offsetHeight;\n            size.baseline = baselineMarker.offsetTop + this.options.baselineMarkerSize;\n        }\n\n        if (size.width > 0 && size.height > 0) {\n            this._cache.put(cacheKey, size);\n        }\n\n        measureBox.parentNode.removeChild(measureBox);\n\n        return size;\n    }\n\n    _baselineMarker() {\n        const marker = document.createElement(\"div\");\n        marker.style.cssText = \"display: inline-block; vertical-align: baseline;width: \" +\n            this.options.baselineMarkerSize + \"px; height: \" + this.options.baselineMarkerSize + \"px;overflow: hidden;\";\n\n        return marker;\n    }\n}\n\nTextMetrics.current = new TextMetrics();\n\nexport default TextMetrics;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}