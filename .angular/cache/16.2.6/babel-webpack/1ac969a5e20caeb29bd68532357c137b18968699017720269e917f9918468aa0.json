{"ast":null,"code":"import GroupNode from './group-node';\nimport traversable from '../mixins/traversable';\nimport { animationFrame, throttle } from '../common';\nconst FRAME_DELAY = 1000 / 60;\nclass RootNode extends traversable(GroupNode, \"childNodes\") {\n  constructor(canvas, size) {\n    super();\n    this.canvas = canvas;\n    this.size = size;\n    this.ctx = canvas.getContext(\"2d\");\n    const invalidateHandler = this._invalidate.bind(this);\n    this.invalidate = throttle(() => {\n      animationFrame(invalidateHandler);\n    }, FRAME_DELAY);\n  }\n  destroy() {\n    super.destroy();\n    this.canvas = null;\n    this.ctx = null;\n  }\n  load(elements, pos, cors) {\n    this.loadElements(elements, pos, cors);\n    this._invalidate();\n  }\n  _rescale(scale) {\n    const {\n      canvas,\n      size\n    } = this;\n    canvas.width = size.width * scale;\n    canvas.height = size.height * scale;\n    this.ctx.scale(scale, scale);\n  }\n  _devicePixelRatio() {\n    if (typeof window.devicePixelRatio === 'number') {\n      return window.devicePixelRatio;\n    }\n    return 1;\n  }\n  _invalidate(options) {\n    if (!this.ctx) {\n      return;\n    }\n    const fixedScale = options && options.fixedScale;\n    const scale = fixedScale ? 1 : this._devicePixelRatio();\n    this._rescale(scale);\n    this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n    this.renderTo(this.ctx);\n  }\n}\nexport default RootNode;","map":{"version":3,"names":["GroupNode","traversable","animationFrame","throttle","FRAME_DELAY","RootNode","constructor","canvas","size","ctx","getContext","invalidateHandler","_invalidate","bind","invalidate","destroy","load","elements","pos","cors","loadElements","_rescale","scale","width","height","_devicePixelRatio","window","devicePixelRatio","options","fixedScale","clearRect","renderTo"],"sources":["C:/Internship/FoodShopUI/node_modules/@progress/kendo-drawing/dist/es2015/canvas/root-node.js"],"sourcesContent":["import GroupNode from './group-node';\nimport traversable from '../mixins/traversable';\nimport { animationFrame, throttle } from '../common';\n\n\nconst FRAME_DELAY = 1000 / 60;\n\nclass RootNode extends traversable(GroupNode, \"childNodes\") {\n    constructor(canvas, size) {\n        super();\n\n        this.canvas = canvas;\n        this.size = size;\n        this.ctx = canvas.getContext(\"2d\");\n\n        const invalidateHandler = this._invalidate.bind(this);\n        this.invalidate = throttle(() => {\n            animationFrame(invalidateHandler);\n        }, FRAME_DELAY);\n    }\n\n    destroy() {\n        super.destroy();\n        this.canvas = null;\n        this.ctx = null;\n    }\n\n    load(elements, pos, cors) {\n        this.loadElements(elements, pos, cors);\n        this._invalidate();\n    }\n\n    _rescale(scale) {\n        const { canvas, size } = this;\n        canvas.width = size.width * scale;\n        canvas.height = size.height * scale;\n        this.ctx.scale(scale, scale);\n    }\n\n    _devicePixelRatio() {\n        if (typeof window.devicePixelRatio === 'number') {\n            return window.devicePixelRatio;\n        }\n\n        return 1;\n    }\n\n    _invalidate(options) {\n        if (!this.ctx) {\n            return;\n        }\n\n        const fixedScale = options && options.fixedScale;\n        const scale = fixedScale ? 1 : this._devicePixelRatio();\n        this._rescale(scale);\n\n        this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n        this.renderTo(this.ctx);\n    }\n}\n\nexport default RootNode;\n"],"mappings":"AAAA,OAAOA,SAAS,MAAM,cAAc;AACpC,OAAOC,WAAW,MAAM,uBAAuB;AAC/C,SAASC,cAAc,EAAEC,QAAQ,QAAQ,WAAW;AAGpD,MAAMC,WAAW,GAAG,IAAI,GAAG,EAAE;AAE7B,MAAMC,QAAQ,SAASJ,WAAW,CAACD,SAAS,EAAE,YAAY,CAAC,CAAC;EACxDM,WAAWA,CAACC,MAAM,EAAEC,IAAI,EAAE;IACtB,KAAK,CAAC,CAAC;IAEP,IAAI,CAACD,MAAM,GAAGA,MAAM;IACpB,IAAI,CAACC,IAAI,GAAGA,IAAI;IAChB,IAAI,CAACC,GAAG,GAAGF,MAAM,CAACG,UAAU,CAAC,IAAI,CAAC;IAElC,MAAMC,iBAAiB,GAAG,IAAI,CAACC,WAAW,CAACC,IAAI,CAAC,IAAI,CAAC;IACrD,IAAI,CAACC,UAAU,GAAGX,QAAQ,CAAC,MAAM;MAC7BD,cAAc,CAACS,iBAAiB,CAAC;IACrC,CAAC,EAAEP,WAAW,CAAC;EACnB;EAEAW,OAAOA,CAAA,EAAG;IACN,KAAK,CAACA,OAAO,CAAC,CAAC;IACf,IAAI,CAACR,MAAM,GAAG,IAAI;IAClB,IAAI,CAACE,GAAG,GAAG,IAAI;EACnB;EAEAO,IAAIA,CAACC,QAAQ,EAAEC,GAAG,EAAEC,IAAI,EAAE;IACtB,IAAI,CAACC,YAAY,CAACH,QAAQ,EAAEC,GAAG,EAAEC,IAAI,CAAC;IACtC,IAAI,CAACP,WAAW,CAAC,CAAC;EACtB;EAEAS,QAAQA,CAACC,KAAK,EAAE;IACZ,MAAM;MAAEf,MAAM;MAAEC;IAAK,CAAC,GAAG,IAAI;IAC7BD,MAAM,CAACgB,KAAK,GAAGf,IAAI,CAACe,KAAK,GAAGD,KAAK;IACjCf,MAAM,CAACiB,MAAM,GAAGhB,IAAI,CAACgB,MAAM,GAAGF,KAAK;IACnC,IAAI,CAACb,GAAG,CAACa,KAAK,CAACA,KAAK,EAAEA,KAAK,CAAC;EAChC;EAEAG,iBAAiBA,CAAA,EAAG;IAChB,IAAI,OAAOC,MAAM,CAACC,gBAAgB,KAAK,QAAQ,EAAE;MAC7C,OAAOD,MAAM,CAACC,gBAAgB;IAClC;IAEA,OAAO,CAAC;EACZ;EAEAf,WAAWA,CAACgB,OAAO,EAAE;IACjB,IAAI,CAAC,IAAI,CAACnB,GAAG,EAAE;MACX;IACJ;IAEA,MAAMoB,UAAU,GAAGD,OAAO,IAAIA,OAAO,CAACC,UAAU;IAChD,MAAMP,KAAK,GAAGO,UAAU,GAAG,CAAC,GAAG,IAAI,CAACJ,iBAAiB,CAAC,CAAC;IACvD,IAAI,CAACJ,QAAQ,CAACC,KAAK,CAAC;IAEpB,IAAI,CAACb,GAAG,CAACqB,SAAS,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,CAACvB,MAAM,CAACgB,KAAK,EAAE,IAAI,CAAChB,MAAM,CAACiB,MAAM,CAAC;IAC/D,IAAI,CAACO,QAAQ,CAAC,IAAI,CAACtB,GAAG,CAAC;EAC3B;AACJ;AAEA,eAAeJ,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}