{"ast":null,"code":"import { Class, addClass, deepExtend, defined } from '../../common';\nimport { Extent } from './../extent';\nimport { getSupportedFeatures } from '../utils';\nexport class Layer extends Class {\n  constructor(map, options) {\n    super();\n    this.support = getSupportedFeatures();\n    this._initOptions(options);\n    this.map = map;\n    let element = document.createElement(\"div\");\n    addClass(element, \"k-layer\");\n    element.style.zIndex = this.options.zIndex;\n    element.style.opacity = this.options.opacity;\n    this.element = element;\n    map.scrollElement.appendChild(this.element);\n    this._beforeReset = this._beforeReset.bind(this);\n    this._reset = this._reset.bind(this);\n    this._resize = this._resize.bind(this);\n    this._panEnd = this._panEnd.bind(this);\n    this._activate();\n    this._updateAttribution();\n  }\n  destroy() {\n    this._deactivate();\n  }\n  _initOptions(options) {\n    this.options = deepExtend({}, this.options, options);\n  }\n  show() {\n    this.reset();\n    this._activate();\n    this._applyExtent(true);\n  }\n  hide() {\n    this._deactivate();\n    this._setVisibility(false);\n  }\n  reset() {\n    this._beforeReset();\n    this._reset();\n  }\n  _reset() {\n    this._applyExtent();\n  }\n  _beforeReset() {}\n  _resize() {}\n  _panEnd() {\n    this._applyExtent();\n  }\n  _applyExtent() {\n    let options = this.options;\n    let zoom = this.map.zoom();\n    let matchMinZoom = !defined(options.minZoom) || zoom >= options.minZoom;\n    let matchMaxZoom = !defined(options.maxZoom) || zoom <= options.maxZoom;\n    let extent = Extent.create(options.extent);\n    let inside = !extent || extent.overlaps(this.map.extent());\n    this._setVisibility(matchMinZoom && matchMaxZoom && inside);\n  }\n  _setVisibility(visible) {\n    this.element.style.display = visible ? '' : 'none';\n  }\n  _activate() {\n    let map = this.map;\n    this._deactivate();\n    map.bind('beforeReset', this._beforeReset);\n    map.bind('reset', this._reset);\n    map.bind('resize', this._resize);\n    map.bind('panEnd', this._panEnd);\n  }\n  _deactivate() {\n    let map = this.map;\n    map.unbind('beforeReset', this._beforeReset);\n    map.unbind('reset', this._reset);\n    map.unbind('resize', this._resize);\n    map.unbind('panEnd', this._panEnd);\n  }\n  _updateAttribution() {\n    const attribution = this.map.attribution;\n    if (attribution) {\n      attribution.add(this.options.attribution);\n    }\n  }\n  _readData() {\n    const data = this.options.data || [];\n    return data;\n  }\n  _hasData() {\n    return this._data && this._data.length > 0;\n  }\n  _layerIndex() {\n    const layers = this.map.layers || [];\n    return layers.indexOf(this);\n  }\n}","map":{"version":3,"names":["Class","addClass","deepExtend","defined","Extent","getSupportedFeatures","Layer","constructor","map","options","support","_initOptions","element","document","createElement","style","zIndex","opacity","scrollElement","appendChild","_beforeReset","bind","_reset","_resize","_panEnd","_activate","_updateAttribution","destroy","_deactivate","show","reset","_applyExtent","hide","_setVisibility","zoom","matchMinZoom","minZoom","matchMaxZoom","maxZoom","extent","create","inside","overlaps","visible","display","unbind","attribution","add","_readData","data","_hasData","_data","length","_layerIndex","layers","indexOf"],"sources":["C:/Internship/FoodShopUI/node_modules/@progress/kendo-charts/dist/es2015/map/layers/layer.js"],"sourcesContent":["import {\n    Class,\n    addClass,\n    deepExtend,\n    defined\n} from '../../common';\n\nimport {\n    Extent\n} from './../extent';\n\nimport {\n    getSupportedFeatures\n} from '../utils';\n\nexport class Layer extends Class {\n    constructor(map, options) {\n        super();\n\n        this.support = getSupportedFeatures();\n\n        this._initOptions(options);\n        this.map = map;\n\n        let element = document.createElement(\"div\");\n        addClass(element, \"k-layer\");\n        element.style.zIndex = this.options.zIndex;\n        element.style.opacity = this.options.opacity;\n\n        this.element = element;\n\n        map.scrollElement.appendChild(this.element);\n\n        this._beforeReset = this._beforeReset.bind(this);\n        this._reset = this._reset.bind(this);\n        this._resize = this._resize.bind(this);\n        this._panEnd = this._panEnd.bind(this);\n\n        this._activate();\n        this._updateAttribution();\n    }\n\n    destroy() {\n        this._deactivate();\n    }\n\n    _initOptions(options) {\n        this.options = deepExtend({}, this.options, options);\n    }\n\n    show() {\n        this.reset();\n        this._activate();\n        this._applyExtent(true);\n    }\n\n    hide() {\n        this._deactivate();\n        this._setVisibility(false);\n    }\n\n    reset() {\n        this._beforeReset();\n        this._reset();\n    }\n\n    _reset() {\n        this._applyExtent();\n    }\n\n    _beforeReset() {\n\n    }\n\n    _resize() {\n\n    }\n\n    _panEnd() {\n        this._applyExtent();\n    }\n\n    _applyExtent() {\n        let options = this.options;\n        let zoom = this.map.zoom();\n        let matchMinZoom = !defined(options.minZoom) || zoom >= options.minZoom;\n        let matchMaxZoom = !defined(options.maxZoom) || zoom <= options.maxZoom;\n        let extent = Extent.create(options.extent);\n        let inside = !extent || extent.overlaps(this.map.extent());\n\n        this._setVisibility(matchMinZoom && matchMaxZoom && inside);\n    }\n\n    _setVisibility(visible) {\n        this.element.style.display = visible ? '' : 'none';\n    }\n\n    _activate() {\n        let map = this.map;\n\n        this._deactivate();\n\n        map.bind('beforeReset', this._beforeReset);\n        map.bind('reset', this._reset);\n        map.bind('resize', this._resize);\n        map.bind('panEnd', this._panEnd);\n    }\n\n    _deactivate() {\n        let map = this.map;\n\n        map.unbind('beforeReset', this._beforeReset);\n        map.unbind('reset', this._reset);\n        map.unbind('resize', this._resize);\n        map.unbind('panEnd', this._panEnd);\n    }\n\n    _updateAttribution() {\n        const attribution = this.map.attribution;\n\n        if (attribution) {\n            attribution.add(this.options.attribution);\n        }\n    }\n\n    _readData() {\n        const data = this.options.data || [];\n        return data;\n    }\n\n    _hasData() {\n        return this._data && this._data.length > 0;\n    }\n\n    _layerIndex() {\n        const layers = this.map.layers || [];\n        return layers.indexOf(this);\n    }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}