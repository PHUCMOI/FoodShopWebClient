{"ast":null,"code":"import { geometry as g, throttle } from '@progress/kendo-drawing';\nimport { Class, deepExtend, round, limitValue, hashKey, setDefaultOptions, isFunction } from '../../common';\nimport { removeChildren } from '../utils';\nimport { Layer } from './layer';\nimport TemplateService from '../../services/template-service';\nlet math = Math,\n  Point = g.Point;\nfunction compileTemplate(template) {\n  if (isFunction(template)) {\n    return template;\n  }\n  return TemplateService.compile(template);\n}\nfunction roundPoint(point) {\n  return new Point(round(point.x), round(point.y));\n}\nfunction renderSize(size) {\n  let newSize = size;\n  if (typeof size !== \"string\") {\n    newSize += \"px\";\n  }\n  return newSize;\n}\nexport class TileLayer extends Layer {\n  constructor(map, options) {\n    super(map, options);\n    if (typeof this.options.subdomains === 'string') {\n      this.options.subdomains = this.options.subdomains.split('');\n    }\n    let viewType = this._viewType();\n    this._view = new viewType(this.element, this.options);\n  }\n  destroy() {\n    super.destroy();\n    this._view.destroy();\n    this._view = null;\n  }\n  _beforeReset() {\n    let map = this.map;\n    let origin = map.locationToLayer(map.extent().nw).round();\n    this._view.viewOrigin(origin);\n  }\n  _reset() {\n    super._reset();\n    this._updateView();\n    this._view.reset();\n  }\n  _viewType() {\n    return TileView;\n  }\n  _activate() {\n    super._activate();\n    if (!this.support.mobileOS) {\n      if (!this._pan) {\n        this._pan = throttle(this._render.bind(this), 100);\n      }\n      this.map.bind('pan', this._pan);\n    }\n  }\n  _deactivate() {\n    super._deactivate();\n    if (this._pan) {\n      this.map.unbind('pan', this._pan);\n    }\n  }\n  _updateView() {\n    let view = this._view,\n      map = this.map,\n      extent = map.extent(),\n      extentToPoint = {\n        nw: map.locationToLayer(extent.nw).round(),\n        se: map.locationToLayer(extent.se).round()\n      };\n    view.center(map.locationToLayer(map.center()));\n    view.extent(extentToPoint);\n    view.zoom(map.zoom());\n  }\n  _resize() {\n    this._render();\n  }\n  _panEnd(e) {\n    super._panEnd(e);\n    this._render();\n  }\n  _render() {\n    this._updateView();\n    this._view.render();\n  }\n}\nsetDefaultOptions(TileLayer, {\n  tileSize: 256,\n  subdomains: ['a', 'b', 'c'],\n  urlTemplate: '',\n  zIndex: 1\n});\nexport class TileView extends Class {\n  constructor(element, options) {\n    super();\n    this.element = element;\n    this._initOptions(options);\n    this.pool = new TilePool();\n  }\n  _initOptions(options) {\n    this.options = deepExtend({}, this.options, options);\n  }\n  center(center) {\n    this._center = center;\n  }\n  extent(extent) {\n    this._extent = extent;\n  }\n  viewOrigin(origin) {\n    this._viewOrigin = origin;\n  }\n  zoom(zoom) {\n    this._zoom = zoom;\n  }\n  pointToTileIndex(point) {\n    return new Point(math.floor(point.x / this.options.tileSize), math.floor(point.y / this.options.tileSize));\n  }\n  tileCount() {\n    let size = this.size(),\n      firstTileIndex = this.pointToTileIndex(this._extent.nw),\n      nw = this._extent.nw,\n      point = this.indexToPoint(firstTileIndex).translate(-nw.x, -nw.y);\n    return {\n      x: math.ceil((math.abs(point.x) + size.width) / this.options.tileSize),\n      y: math.ceil((math.abs(point.y) + size.height) / this.options.tileSize)\n    };\n  }\n  size() {\n    let nw = this._extent.nw,\n      se = this._extent.se,\n      diff = se.clone().translate(-nw.x, -nw.y);\n    return {\n      width: diff.x,\n      height: diff.y\n    };\n  }\n  indexToPoint(index) {\n    let x = index.x,\n      y = index.y;\n    return new Point(x * this.options.tileSize, y * this.options.tileSize);\n  }\n  subdomainText() {\n    let subdomains = this.options.subdomains;\n    return subdomains[this.subdomainIndex++ % subdomains.length];\n  }\n  destroy() {\n    removeChildren(this.element);\n    this.pool.empty();\n  }\n  reset() {\n    this.pool.reset();\n    this.subdomainIndex = 0;\n    this.render();\n  }\n  render() {\n    let size = this.tileCount(),\n      firstTileIndex = this.pointToTileIndex(this._extent.nw),\n      tile,\n      x,\n      y;\n    for (x = 0; x < size.x; x++) {\n      for (y = 0; y < size.y; y++) {\n        tile = this.createTile({\n          x: firstTileIndex.x + x,\n          y: firstTileIndex.y + y\n        });\n        if (!tile.visible) {\n          tile.show();\n        }\n      }\n    }\n  }\n  createTile(currentIndex) {\n    let options = this.tileOptions(currentIndex);\n    let tile = this.pool.get(this._center, options);\n    if (!tile.element.parentNode) {\n      this.element.append(tile.element);\n    }\n    return tile;\n  }\n  tileOptions(currentIndex) {\n    let index = this.wrapIndex(currentIndex),\n      point = this.indexToPoint(currentIndex),\n      origin = this._viewOrigin,\n      offset = point.clone().translate(-origin.x, -origin.y);\n    return {\n      index: index,\n      currentIndex: currentIndex,\n      point: point,\n      offset: roundPoint(offset),\n      zoom: this._zoom,\n      size: this.options.tileSize,\n      subdomain: this.subdomainText(),\n      urlTemplate: this.options.urlTemplate,\n      errorUrlTemplate: this.options.errorUrlTemplate\n    };\n  }\n  wrapIndex(index) {\n    let boundary = math.pow(2, this._zoom);\n    return {\n      x: this.wrapValue(index.x, boundary),\n      y: limitValue(index.y, 0, boundary - 1)\n    };\n  }\n  wrapValue(value, boundary) {\n    let remainder = math.abs(value) % boundary;\n    let wrappedValue = value;\n    if (value >= 0) {\n      wrappedValue = remainder;\n    } else {\n      wrappedValue = boundary - (remainder === 0 ? boundary : remainder);\n    }\n    return wrappedValue;\n  }\n}\nexport class ImageTile extends Class {\n  constructor(id, options) {\n    super();\n    this.id = id;\n    this.visible = true;\n    this._initOptions(options);\n    this.createElement();\n    this.show();\n  }\n  destroy() {\n    const element = this.element;\n    const parentNode = element ? element.parentNode : null;\n    if (element) {\n      if (parentNode) {\n        parentNode.removeChild(element);\n      }\n      this.element = null;\n    }\n  }\n  _initOptions(options) {\n    this.options = deepExtend({}, this.options, options);\n  }\n  createElement() {\n    let el = document.createElement(\"img\");\n    const size = this.options.size + \"px\";\n    el.style.position = \"absolute\";\n    el.style.display = \"block\";\n    el.style.width = el.style.maxWidth = size;\n    el.style.height = el.style.maxHeight = size;\n    this.element = el;\n\n    // todo\n    // add on error handler\n\n    // this.element =\n    // $('<img style=\\'position: absolute; display: block;\\' alt=\\'\\' />')\n    // .css({\n    //     width: this.options.size,\n    //     height: this.options.size\n    // })\n    // .on('error', proxy(function(e) {\n    //     if (this.errorUrl()) {\n    //         e.target.setAttribute('src', this.errorUrl());\n    //     } else {\n    //         e.target.removeAttribute('src');\n    //     }\n    // }, this));\n  }\n\n  show() {\n    let element = this.element;\n    element.style.top = renderSize(this.options.offset.y);\n    element.style.left = renderSize(this.options.offset.x);\n    let url = this.url();\n    if (url) {\n      element.setAttribute('src', url);\n    }\n    element.style.visibility = 'visible';\n    this.visible = true;\n  }\n  hide() {\n    this.element.style.visibility = 'hidden';\n    this.visible = false;\n  }\n  url() {\n    let urlResult = compileTemplate(this.options.urlTemplate);\n    return urlResult(this.urlOptions());\n  }\n  errorUrl() {\n    let urlResult = compileTemplate(this.options.errorUrlTemplate);\n    return urlResult(this.urlOptions());\n  }\n  urlOptions() {\n    let options = this.options;\n    return {\n      zoom: options.zoom,\n      subdomain: options.subdomain,\n      z: options.zoom,\n      x: options.index.x,\n      y: options.index.y,\n      s: options.subdomain,\n      quadkey: options.quadkey,\n      q: options.quadkey,\n      culture: options.culture,\n      c: options.culture\n    };\n  }\n}\nsetDefaultOptions(ImageTile, {\n  urlTemplate: '',\n  errorUrlTemplate: ''\n});\nexport class TilePool extends Class {\n  constructor() {\n    super();\n    this._items = [];\n  }\n  get(center, options) {\n    if (this._items.length >= this.options.maxSize) {\n      this._remove(center);\n    }\n    return this._create(options);\n  }\n  empty() {\n    let items = this._items;\n    for (let i = 0; i < items.length; i++) {\n      items[i].destroy();\n    }\n    this._items = [];\n  }\n  reset() {\n    let items = this._items;\n    for (let i = 0; i < items.length; i++) {\n      items[i].hide();\n    }\n  }\n  _create(options) {\n    let items = this._items;\n    let tile;\n    let id = hashKey(options.point.toString() + options.offset.toString() + options.zoom + options.urlTemplate);\n    for (let i = 0; i < items.length; i++) {\n      if (items[i].id === id) {\n        tile = items[i];\n        break;\n      }\n    }\n    if (tile) {\n      tile.show();\n    } else {\n      tile = new ImageTile(id, options);\n      this._items.push(tile);\n    }\n    return tile;\n  }\n  _remove(center) {\n    let items = this._items;\n    let maxDist = -1;\n    let index = -1;\n    for (let i = 0; i < items.length; i++) {\n      let dist = items[i].options.point.distanceTo(center);\n      if (dist > maxDist && !items[i].visible) {\n        index = i;\n        maxDist = dist;\n      }\n    }\n    if (index !== -1) {\n      items[index].destroy();\n      items.splice(index, 1);\n    }\n  }\n}\nsetDefaultOptions(TilePool, {\n  maxSize: 100\n});","map":{"version":3,"names":["geometry","g","throttle","Class","deepExtend","round","limitValue","hashKey","setDefaultOptions","isFunction","removeChildren","Layer","TemplateService","math","Math","Point","compileTemplate","template","compile","roundPoint","point","x","y","renderSize","size","newSize","TileLayer","constructor","map","options","subdomains","split","viewType","_viewType","_view","element","destroy","_beforeReset","origin","locationToLayer","extent","nw","viewOrigin","_reset","_updateView","reset","TileView","_activate","support","mobileOS","_pan","_render","bind","_deactivate","unbind","view","extentToPoint","se","center","zoom","_resize","_panEnd","e","render","tileSize","urlTemplate","zIndex","_initOptions","pool","TilePool","_center","_extent","_viewOrigin","_zoom","pointToTileIndex","floor","tileCount","firstTileIndex","indexToPoint","translate","ceil","abs","width","height","diff","clone","index","subdomainText","subdomainIndex","length","empty","tile","createTile","visible","show","currentIndex","tileOptions","get","parentNode","append","wrapIndex","offset","subdomain","errorUrlTemplate","boundary","pow","wrapValue","value","remainder","wrappedValue","ImageTile","id","createElement","removeChild","el","document","style","position","display","maxWidth","maxHeight","top","left","url","setAttribute","visibility","hide","urlResult","urlOptions","errorUrl","z","s","quadkey","q","culture","c","_items","maxSize","_remove","_create","items","i","toString","push","maxDist","dist","distanceTo","splice"],"sources":["C:/Internship/FoodShopUI/node_modules/@progress/kendo-charts/dist/es2015/map/layers/tile.js"],"sourcesContent":["import {\n    geometry as g,\n    throttle\n} from '@progress/kendo-drawing';\n\nimport {\n    Class,\n    deepExtend,\n    round,\n    limitValue,\n    hashKey,\n    setDefaultOptions,\n    isFunction\n} from '../../common';\n\nimport { removeChildren } from '../utils';\n\nimport { Layer } from './layer';\n\nimport TemplateService from '../../services/template-service';\n\nlet math = Math,\n    Point = g.Point;\n\nfunction compileTemplate(template) {\n    if (isFunction(template)) {\n        return template;\n    }\n\n    return TemplateService.compile(template);\n}\n\nfunction roundPoint(point) {\n    return new Point(round(point.x), round(point.y));\n}\n\nfunction renderSize(size) {\n    let newSize = size;\n\n    if (typeof(size) !== \"string\") {\n        newSize += \"px\";\n    }\n\n    return newSize;\n}\n\nexport class TileLayer extends Layer {\n    constructor(map, options) {\n        super(map, options);\n\n        if (typeof this.options.subdomains === 'string') {\n            this.options.subdomains = this.options.subdomains.split('');\n        }\n\n        let viewType = this._viewType();\n        this._view = new viewType(this.element, this.options);\n    }\n\n    destroy() {\n        super.destroy();\n        this._view.destroy();\n        this._view = null;\n    }\n\n    _beforeReset() {\n        let map = this.map;\n        let origin = map.locationToLayer(map.extent().nw).round();\n        this._view.viewOrigin(origin);\n    }\n\n    _reset() {\n        super._reset();\n        this._updateView();\n        this._view.reset();\n    }\n\n    _viewType() {\n        return TileView;\n    }\n\n    _activate() {\n        super._activate();\n\n        if (!this.support.mobileOS) {\n            if (!this._pan) {\n                this._pan = throttle(this._render.bind(this), 100);\n            }\n\n            this.map.bind('pan', this._pan);\n        }\n    }\n\n    _deactivate() {\n        super._deactivate();\n\n        if (this._pan) {\n            this.map.unbind('pan', this._pan);\n        }\n    }\n\n    _updateView() {\n        let view = this._view,\n            map = this.map,\n            extent = map.extent(),\n            extentToPoint = {\n                nw: map.locationToLayer(extent.nw).round(),\n                se: map.locationToLayer(extent.se).round()\n            };\n\n        view.center(map.locationToLayer(map.center()));\n        view.extent(extentToPoint);\n        view.zoom(map.zoom());\n    }\n\n    _resize() {\n        this._render();\n    }\n\n    _panEnd(e) {\n        super._panEnd(e);\n        this._render();\n    }\n\n    _render() {\n        this._updateView();\n        this._view.render();\n    }\n}\n\nsetDefaultOptions(TileLayer, {\n    tileSize: 256,\n    subdomains: ['a', 'b', 'c'],\n    urlTemplate: '',\n    zIndex: 1\n});\n\nexport class TileView extends Class {\n    constructor(element, options) {\n        super();\n        this.element = element;\n        this._initOptions(options);\n        this.pool = new TilePool();\n    }\n\n    _initOptions(options) {\n        this.options = deepExtend({}, this.options, options);\n    }\n\n    center(center) {\n        this._center = center;\n    }\n\n    extent(extent) {\n        this._extent = extent;\n    }\n\n    viewOrigin(origin) {\n        this._viewOrigin = origin;\n    }\n\n    zoom(zoom) {\n        this._zoom = zoom;\n    }\n\n    pointToTileIndex(point) {\n        return new Point(math.floor(point.x / this.options.tileSize), math.floor(point.y / this.options.tileSize));\n    }\n\n    tileCount() {\n        let size = this.size(),\n            firstTileIndex = this.pointToTileIndex(this._extent.nw),\n            nw = this._extent.nw,\n            point = this.indexToPoint(firstTileIndex).translate(-nw.x, -nw.y);\n\n        return {\n            x: math.ceil((math.abs(point.x) + size.width) / this.options.tileSize),\n            y: math.ceil((math.abs(point.y) + size.height) / this.options.tileSize)\n        };\n    }\n\n    size() {\n        let nw = this._extent.nw,\n            se = this._extent.se,\n            diff = se.clone().translate(-nw.x, -nw.y);\n\n        return {\n            width: diff.x,\n            height: diff.y\n        };\n    }\n\n    indexToPoint(index) {\n        let x = index.x,\n            y = index.y;\n\n        return new Point(x * this.options.tileSize, y * this.options.tileSize);\n    }\n\n    subdomainText() {\n        let subdomains = this.options.subdomains;\n        return subdomains[this.subdomainIndex++ % subdomains.length];\n    }\n\n    destroy() {\n        removeChildren(this.element);\n        this.pool.empty();\n    }\n\n    reset() {\n        this.pool.reset();\n        this.subdomainIndex = 0;\n        this.render();\n    }\n\n    render() {\n        let size = this.tileCount(),\n            firstTileIndex = this.pointToTileIndex(this._extent.nw),\n            tile, x, y;\n\n        for (x = 0; x < size.x; x++) {\n            for (y = 0; y < size.y; y++) {\n                tile = this.createTile({\n                    x: firstTileIndex.x + x,\n                    y: firstTileIndex.y + y\n                });\n\n                if (!tile.visible) {\n                    tile.show();\n                }\n            }\n        }\n    }\n\n    createTile(currentIndex) {\n        let options = this.tileOptions(currentIndex);\n        let tile = this.pool.get(this._center, options);\n\n        if (!tile.element.parentNode) {\n            this.element.append(tile.element);\n        }\n\n        return tile;\n    }\n\n    tileOptions(currentIndex) {\n        let index = this.wrapIndex(currentIndex),\n            point = this.indexToPoint(currentIndex),\n            origin = this._viewOrigin,\n            offset = point.clone().translate(-origin.x, -origin.y);\n\n        return {\n            index: index,\n            currentIndex: currentIndex,\n            point: point,\n            offset: roundPoint(offset),\n            zoom: this._zoom,\n            size: this.options.tileSize,\n            subdomain: this.subdomainText(),\n            urlTemplate: this.options.urlTemplate,\n            errorUrlTemplate: this.options.errorUrlTemplate\n        };\n    }\n\n    wrapIndex(index) {\n        let boundary = math.pow(2, this._zoom);\n\n        return {\n            x: this.wrapValue(index.x, boundary),\n            y: limitValue(index.y, 0, boundary - 1)\n        };\n    }\n\n    wrapValue(value, boundary) {\n        let remainder = math.abs(value) % boundary;\n        let wrappedValue = value;\n\n        if (value >= 0) {\n            wrappedValue = remainder;\n        } else {\n            wrappedValue = boundary - (remainder === 0 ? boundary : remainder);\n        }\n\n        return wrappedValue;\n    }\n}\n\nexport class ImageTile extends Class {\n    constructor(id, options) {\n        super();\n        this.id = id;\n        this.visible = true;\n        this._initOptions(options);\n        this.createElement();\n        this.show();\n    }\n\n    destroy() {\n        const element = this.element;\n        const parentNode = element ? element.parentNode : null;\n\n        if (element) {\n            if (parentNode) {\n                parentNode.removeChild(element);\n            }\n\n            this.element = null;\n        }\n    }\n\n    _initOptions(options) {\n        this.options = deepExtend({}, this.options, options);\n    }\n\n    createElement() {\n        let el = document.createElement(\"img\");\n        const size = this.options.size + \"px\";\n        el.style.position = \"absolute\";\n        el.style.display = \"block\";\n        el.style.width = el.style.maxWidth = size;\n        el.style.height = el.style.maxHeight = size;\n\n        this.element = el;\n\n        // todo\n        // add on error handler\n\n        // this.element =\n        // $('<img style=\\'position: absolute; display: block;\\' alt=\\'\\' />')\n        // .css({\n        //     width: this.options.size,\n        //     height: this.options.size\n        // })\n        // .on('error', proxy(function(e) {\n        //     if (this.errorUrl()) {\n        //         e.target.setAttribute('src', this.errorUrl());\n        //     } else {\n        //         e.target.removeAttribute('src');\n        //     }\n        // }, this));\n    }\n\n    show() {\n        let element = this.element;\n        element.style.top = renderSize(this.options.offset.y);\n        element.style.left = renderSize(this.options.offset.x);\n\n        let url = this.url();\n\n        if (url) {\n            element.setAttribute('src', url);\n        }\n\n        element.style.visibility = 'visible';\n        this.visible = true;\n    }\n\n    hide() {\n        this.element.style.visibility = 'hidden';\n        this.visible = false;\n    }\n\n    url() {\n        let urlResult = compileTemplate(this.options.urlTemplate);\n        return urlResult(this.urlOptions());\n    }\n\n    errorUrl() {\n        let urlResult = compileTemplate(this.options.errorUrlTemplate);\n        return urlResult(this.urlOptions());\n    }\n\n    urlOptions() {\n        let options = this.options;\n\n        return {\n            zoom: options.zoom,\n            subdomain: options.subdomain,\n            z: options.zoom,\n            x: options.index.x,\n            y: options.index.y,\n            s: options.subdomain,\n            quadkey: options.quadkey,\n            q: options.quadkey,\n            culture: options.culture,\n            c: options.culture\n        };\n    }\n}\n\nsetDefaultOptions(ImageTile, {\n    urlTemplate: '',\n    errorUrlTemplate: ''\n});\n\nexport class TilePool extends Class {\n    constructor() {\n        super();\n        this._items = [];\n    }\n\n    get(center, options) {\n        if (this._items.length >= this.options.maxSize) {\n            this._remove(center);\n        }\n\n        return this._create(options);\n    }\n\n    empty() {\n        let items = this._items;\n\n        for (let i = 0; i < items.length; i++) {\n            items[i].destroy();\n        }\n\n        this._items = [];\n    }\n\n    reset() {\n        let items = this._items;\n\n        for (let i = 0; i < items.length; i++) {\n            items[i].hide();\n        }\n    }\n\n    _create(options) {\n        let items = this._items;\n        let tile;\n        let id = hashKey(options.point.toString() + options.offset.toString() + options.zoom + options.urlTemplate);\n\n        for (let i = 0; i < items.length; i++) {\n            if (items[i].id === id) {\n                tile = items[i];\n                break;\n            }\n        }\n\n        if (tile) {\n            tile.show();\n        } else {\n            tile = new ImageTile(id, options);\n            this._items.push(tile);\n        }\n\n        return tile;\n    }\n\n    _remove(center) {\n        let items = this._items;\n        let maxDist = -1;\n        let index = -1;\n\n        for (let i = 0; i < items.length; i++) {\n            let dist = items[i].options.point.distanceTo(center);\n\n            if (dist > maxDist && !items[i].visible) {\n                index = i;\n                maxDist = dist;\n            }\n        }\n\n        if (index !== -1) {\n            items[index].destroy();\n            items.splice(index, 1);\n        }\n    }\n}\n\nsetDefaultOptions(TilePool, {\n    maxSize: 100\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}